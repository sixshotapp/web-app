{% extends 'base.html' %} 

{% block head %}
<title>6Shot | Ingredients</title>
{% endblock %} 

{% block nav %}
<li class="nav-item">
  <a class="nav-link" href="./employee_menu">Menu</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="./employee_profile">Profile</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="./employees">Employees</a>
</li>
<li class="nav-item">
    <a class="nav-link active" aria-current="page">Ingredients</a>
</li>
<!-- <li class="nav-item">
    <a class="nav-link" href="./about">About</a>
</li> -->
<li class="nav-item">
  <a class="nav-link" href="./logout">Logout</a>
</li>
{% endblock %}

{% block body %}
    <div class="container">
        <form method="post">
            <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#addIngredientModal">Add Ingredient</button>
            <!-- Modal -->
            <div class="modal fade reveal-modal" id="addIngredientModal" tabindex="-1" role="dialog" aria-labelledby="newIngredientModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <!-- Modal content-->
                    <div class="modal-content" style="background-color: white; color: black;">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Add Ingredient</h4>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <label for="InputName">Name</label>
                                <input type="text" class="form-control" name="InputName" id="InputName" placeholder="Enter name" />
                            </div>
                            <div class="form-group">
                                <label for="InputAvailability">Availability</label>
                                <select id="inputAvailability" name="inputAvailability">
                                    <option value="1">Available</option>
                                    <option value="0">Not Available</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="InputPump">Pump</label>
                                <select id="inputPump" name="inputPump">
                                    <option value="6">6</option>
                                    <option value="5">5</option>
                                    <option value="4">4</option>
                                    <option value="3">3</option>
                                    <option value="2">2</option>
                                    <option value="1">1</option>
                                    <option value="-1">None</option>
                                </select>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <form role="form" id="add-ingredient-form" action="/ingredients" method="POST">
                                <button type="submit" class="btn btn-primary" name="add-ingredient" value="add_ingredient" id="add-ingredient-submit">Add Ingredient</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="container">
        <div class="row" style="background-color: grey; border-radius: 1rem; padding: 1%;">
        <div class="col-sm">
            <h1 class="as_heading as_heading_center" style="text-align: center;">Ingredients</h1>
            <table class="table" style="color: white">
            <thead style="text-align: center;">
                <tr>
                <th>Name</th>
                <th>Available</th> 
                <th>Pump</th>
                <th>Remove</th>
                <th>Edit</th>
                </tr>
            </thead>
            <tbody>
                {% for ingredient in ingredients %}
                    <div class="ingredient">
                        <tr>
                            <th>{{ ingredient.name }}</th>
                            <td>
                                {% if ingredient.available == 0 %}
                                    <h4>No</h4>
                                {% else %}
                                    <h4>Yes</h4>
                                {% endif %}
                            </th>
                            <th>
                                {% if ingredient.pump == -1 %}
                                    <h4>None</h4>
                                {% else %}
                                    {{ ingredient.pump }}
                                {% endif %}
                            </th>
                            <th>
                                <form id = "remove-ingredient" action = "/ingredients" method = "POST" style="text-align: center;">
                                    <button type="submit" class="btn btn-primary" style = "background-color: #ff7010; border: black" name ="remove-ingredient" value="{{ingredient.name}}">X</button>
                                </form>
                            </th>
                            <th>
                                <form method="post">
                                    <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#editIngredient">Edit</button>
                                    <!-- Modal -->
                                    <div class="modal fade reveal-modal" id="editIngredient" tabindex="-1" role="dialog" aria-labelledby="ingredientModalLabel" aria-hidden="true">
                                        <div class="modal-dialog" role="document">
                                            <!-- Modal content-->
                                            <div class="modal-content" style="background-color: white; color: black;">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    <h4 class="modal-title">Edit Ingredient</h4>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="form-group">
                                                        <label for="InputName">Change Name</label>
                                                        <input type="text" class="form-control" name="changeName" id="changeName" placeholder="Enter name" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="InputAvailability">Change Availability</label>
                                                        <select id="changeAvailability" name="changeAvailability">
                                                            <option value="yes">Available</option>
                                                            <option value="no">Not Available</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="InputPump">Change Pump</label>
                                                        <select id="changePump" name="changePump">
                                                            <option value="6">6</option>
                                                            <option value="5">5</option>
                                                            <option value="4">4</option>
                                                            <option value="3">3</option>
                                                            <option value="2">2</option>
                                                            <option value="1">1</option>
                                                            <option value="-1">None</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <form role="form" id="change-ingredient-form" action="/ingredients" method="POST">
                                                        <button type="submit" class="btn btn-primary" name="change-ingredient" value="change_ingredient" id="change-ingredient-submit">Save Changes</button>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </th>
                        </tr>
                </div> 
                {% endfor %}
            </tbody>
            </table>
        </div>
        </div>
    </div>
{% endblock %}